<header class="l_header<%- page.sidebar == false ? ' no_sidebar' : '' %> <%- theme.style.blur && theme.style.blur.navbar ? 'nav-blur' : '' %>">
  <div id="loading-bar-wrapper">
    <div id="loading-bar"></div>
  </div>
	<div class='wrapper'>
		<div class="nav-main container container--flex">
      <% if (theme.navbar.logo) { %>
        <a class="logo flat-box" target="_self" href='<%- url_for("/") %>' >
          <% if (theme.navbar.logo.img) { %>
            <img class='logo' src='<%- theme.navbar.logo.img %>'/>
          <% } else { %>
            <% if (theme.navbar.logo.icon || theme.navbar.logo.title) { %>
              <% if (theme.navbar.logo.icon) { %>
                <i class='<%- theme.navbar.logo.icon %>'></i>
              <% } %>
              <% if (theme.navbar.logo.title) { %>
                <%- theme.navbar.logo.title %>
              <% } %>
            <% } else { %>
              <%- theme.info.name.toUpperCase() %> <sup style='color:#2196f3'><%- theme.info.version %></sup>
            <% } %>
          <% } %>
        </a>
      <% } %>

			<div class='menu navigation'>
				<ul class='h-list'>
          <%
          let menu_desktop;
          if (site.data && site.data.menu && site.data.menu.on_desktop) {
            menu_desktop = site.data.menu.on_desktop;
          } else {
            menu_desktop = theme.navbar.menu.on_desktop;
          }
          menu_desktop = menu_desktop || [];
          %>
          <% menu_desktop.forEach(function(value){ %>
            <li>
              <a class="nav flat-box" href="<%= url_for(value.url) %>"
                <% if (value.rel) { %>
                  rel="<%- value.rel %>"
                <% } %>
                <% if (value.target) { %>
                  target="<%- value.target %>"
                <% } %>
                id="<%= url_for(value.url).replace(/\/|%/g, "")?url_for(value.url).replace(/\/|%/g, ""):"home" %>">
                <i class='<%= value.icon %> fa-fw'></i>&nbsp;<%= __('navbar.'+value.name) == ('navbar.'+value.name) ? value.name : __('navbar.'+value.name) %>
              </a>
            </li>
          <%})%>
				</ul>
			</div>

      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fas fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="<%- theme.navbar && theme.navbar.search %>" />
        </form>
      </div>

			<ul class='switcher h-list'>
				<% if (theme.search.enable === true) { %>
					<li class='s-search'><a class="fas fa-search fa-fw" target="_self" href='javascript:void(0)'></a></li>
				<% } %>
				<li class='s-menu'><a class="fas fa-bars fa-fw" target="_self" href='javascript:void(0)'></a></li>
			</ul>
		</div>

		<div class='nav-sub container container--flex'>
			<a class="logo flat-box"></a>
			<ul class='switcher h-list'>
				<li class='s-comment'><a class="flat-btn fas fa-comments fa-fw" target="_self" href='javascript:void(0)'></a></li>
        <% if (page.sidebar == undefined || page.sidebar != false) { %>
          <li class='s-toc'><a class="flat-btn fas fa-list fa-fw" target="_self" href='javascript:void(0)'></a></li>
        <% } %>
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone white-box">
    <header>
		<nav class="menu navigation">
      <ul>
        <%
        let menu_mobile;
        if (site.data && site.data.menu && site.data.menu.on_mobile) {
          menu_mobile = site.data.menu.on_mobile;
        } else {
          menu_mobile = theme.navbar.menu.on_mobile;
        }
        menu_mobile = menu_mobile || [];
        %>
        <% menu_mobile.forEach(function(value){ %>
          <li>
            <a class="nav flat-box" href="<%= url_for(value.url) %>"
              <% if (value.rel) { %>
                rel="<%- value.rel %>"
              <% } %>
              <% if (value.target) { %>
                target="<%- value.target %>"
              <% } %>
              id="<%= url_for(value.url).replace(/\/|%/g, "")?url_for(value.url).replace(/\/|%/g, ""):"home" %>">
              <i class='<%= value.icon %> fa-fw'></i>&nbsp;<%= __('navbar.'+value.name) == ('navbar.'+value.name) ? value.name : __('navbar.'+value.name) %>
            </a>
          </li>
        <%})%>
      </ul>
		</nav>
    </header>
	</aside>
<script>setLoadingBarProgress(40);</script>
